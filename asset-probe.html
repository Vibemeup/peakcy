<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>PeakCY Asset Probe</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Inter, Arial, sans-serif; background:#0a0a0a; color:#fff; padding:24px; }
    .card { background:#111; border:1px solid rgba(255,255,255,.12); border-radius:12px; padding:16px; margin-bottom:16px; }
    .ok { color:#0adf83; }
    .bad { color:#ef4444; }
    code { background:#161616; padding:2px 6px; border-radius:6px; }
  </style>
</head>
<body>
  <h1>Asset Probe</h1>
  <div class="card">
    <div>CSS (absolute): <code>/css/main.css?v=20250827</code> → <span id="abs-css">…</span></div>
    <div>CSS (relative): <code>css/main.css?v=20250827</code> → <span id="rel-css">…</span></div>
    <div>JS (absolute): <code>/js/app.js?v=20250827</code> → <span id="abs-js">…</span></div>
    <div>JS (relative): <code>js/app.js?v=20250827</code> → <span id="rel-js">…</span></div>
  </div>

  <script>
    async function probe(url, elId){
      try{
        const r = await fetch(url, {cache:'no-store'});
        const ok = r.ok;
        const ct = r.headers.get('content-type')||'';
        const isCSS = url.includes('.css') && ct.includes('text/css');
        const isJS  = url.includes('.js') && (ct.includes('javascript')||ct.includes('text/plain')||ct.includes('application/octet-stream'));
        document.getElementById(elId).textContent = ok ? ('200 ' + (ct||'')) : (r.status + ' ' + r.statusText);
        document.getElementById(elId).className = ok && (isCSS || isJS) ? 'ok' : 'bad';
      }catch(e){
        document.getElementById(elId).textContent = 'ERR ' + e.message;
        document.getElementById(elId).className = 'bad';
      }
    }
    probe('/css/main.css?v=20250827','abs-css');
    probe('css/main.css?v=20250827','rel-css');
    probe('/js/app.js?v=20250827','abs-js');
    probe('js/app.js?v=20250827','rel-js');
  </script>
</body>
</html>
