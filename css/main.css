/* ===============================
   PeakCY â€” Main CSS (Optimized)
   =============================== */

/* ---- Design tokens ---- */
:root {
  --bg-primary: #050505;
  --bg-secondary: #0a0a0a;
  --bg-card: rgba(255,255,255,0.04);
  --text-primary: #ffffff;
  --text-secondary: #a3a3a3;
  --text-muted: #666666;
  --accent: #0adf83;
  --accent-hover: #00e67a;
  --accent-glow: rgba(10, 223, 131, 0.3);
  --accent-subtle: rgba(10, 223, 131, 0.1);
  --border: rgba(255,255,255,0.1);
  --border-hover: var(--accent);
  --gold: #D4AF37;
  --red: #ef4444;
  --red-subtle: rgba(239, 68, 68, 0.1);
  --gradient: linear-gradient(135deg, #0adf83 0%, #00b366 100%);
  --gradient-glow: linear-gradient(135deg, rgba(10, 223, 131, 0.2) 0%, rgba(0, 179, 102, 0.1) 100%);
  --shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
  --shadow-glow: 0 20px 40px rgba(10, 223, 131, 0.15);
  --radius: 16px;
  --transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);

  /* Overdrive tokens */
  --depth-shadow: 0 30px 70px rgba(0,0,0,.55);
  --ring-soft: 0 0 0 1px rgba(255,255,255,.08) inset;
  --ring-accent: 0 0 0 1px rgba(10,223,131,.35) inset;
  --glow-accent: 0 24px 60px rgba(10,223,131,.30);
  --glass: rgba(255,255,255,.05);
}

/* ---- Resets ---- */
* { margin: 0; padding: 0; box-sizing: border-box; }
html { scroll-behavior: smooth; }
body {
  font-family: 'Inter', sans-serif;
  color: var(--text-primary);
  line-height: 1.65;
  overflow-x: hidden;
  position: relative;
  opacity: 0;                 /* JS fades in */
  transition: opacity 0.3s ease;
  background:
    radial-gradient(1600px 900px at 85% -10%, rgba(10,223,131,.14), transparent 60%),
    radial-gradient(1200px 700px at -15% 40%, rgba(120,120,120,.08), transparent 60%),
    linear-gradient(180deg, var(--bg-primary) 0%, var(--bg-secondary) 100%);
  isolation:isolate;
}
body::before {
  content: '';
  position: fixed;
  inset: 0;
  background-image:
    linear-gradient(30deg, transparent 40%, rgba(10,223,131,0.02) 41%, rgba(10,223,131,0.02) 43%, transparent 44%),
    linear-gradient(-30deg, transparent 40%, rgba(10,223,131,0.015) 41%, rgba(10,223,131,0.015) 43%, transparent 44%);
  background-size: 120px 120px;
  opacity: .28;
  pointer-events: none;
  z-index: 0;
  animation: float 25s ease-in-out infinite;
}
body::after{
  content:"";
  position:fixed; inset:-15%;
  pointer-events:none; z-index:0;
  background:
    conic-gradient(from 210deg at 60% 40%, rgba(10,223,131,.08), transparent 30%, rgba(212,175,55,.06), transparent 70%),
    radial-gradient(1200px 600px at 20% 30%, rgba(255,255,255,.04), transparent 60%);
  filter: blur(30px) saturate(120%);
  opacity:.85;
  mix-blend-mode: screen;
  animation: aurora-pan 24s ease-in-out infinite alternate;
}
@keyframes float { 0%,100% { transform: translateY(0) rotate(0); } 50% { transform: translateY(-15px) rotate(1deg); } }
@keyframes aurora-pan { 0% { transform: translate3d(-2%, -1%, 0) rotate(.4deg); } 100%{ transform: translate3d(2%, 1%, 0) rotate(-.4deg); } }

header, main, section, footer { position: relative; z-index: 1; }

/* ---- Navbar ---- */
.navbar {
  position: fixed; top: 0; width: 100%; height: 68px; z-index: 1000;
  background: rgba(5, 5, 7, 0.75);
  backdrop-filter: blur(18px) saturate(110%);
  border-bottom: 1px solid var(--border);
  transition: var(--transition);
  box-shadow: 0 6px 30px rgba(0,0,0,.35);
}
.navbar.scrolled { background: rgba(5, 5, 7, 0.92); box-shadow: 0 8px 30px rgba(0,0,0,.45); }
.nav-container {
  max-width: 1200px; margin: 0 auto;
  display: flex; justify-content: space-between; align-items: center;
  padding: 1rem 2rem; height: 100%;
}
.logo {
  font-size: 1.5rem; font-weight: 900; display: flex; align-items: center; gap: .6rem;
  text-decoration: none; color: var(--text-primary); transition: var(--transition);
}
.logo:hover { transform: translateY(-2px) scale(1.02); }
.logo-icon { width: 32px; height: 32px; stroke: var(--accent); filter: drop-shadow(0 0 10px rgba(10,223,131,.4)); transition: var(--transition); }
.peak { color: var(--text-primary); text-shadow: 0 0 8px rgba(255,255,255,.2); transition: var(--transition); }
.cy { color: var(--gold); text-shadow: 0 0 8px rgba(212,175,55,.3); transition: var(--transition); }

.nav-links { display: flex; gap: 2rem; align-items: center; }
.nav-links a {
  color: var(--text-secondary); text-decoration: none; font-weight: 600;
  padding: .5rem 1rem; border-radius: 8px; position: relative; overflow: visible;
  transition: var(--transition);
}
.nav-links a:hover { color: var(--text-primary); background: rgba(255,255,255,.05); transform: translateY(-1px); }
/* Capsule underline (single version) */
.nav-links a::after{
  content:""; position:absolute; left:14px; right:14px; bottom:6px; height:6px;
  background: radial-gradient(18px 6px at center, var(--accent), transparent 70%);
  opacity:0; transform: translateY(3px) scale(.7);
  transition: opacity .25s ease, transform .25s ease; filter: blur(4px);
}
.nav-links a:hover::after{ opacity:.8; transform: translateY(0) scale(1); }

.nav-links a[href="#apply"] {
  background: var(--gradient); color: var(--bg-primary); font-weight: 700;
  padding: .7rem 1.8rem; border-radius: 50px; box-shadow: var(--shadow-glow);
}
.nav-links a[href="#apply"]:hover { color: var(--bg-primary); transform: translateY(-3px); box-shadow: 0 18px 38px rgba(10,223,131,.34); filter:saturate(110%); }

/* ---- Mobile menu toggle ---- */
.menu-toggle { display: none; background: none; border: none; cursor: pointer; width: 32px; height: 22px; position: relative; z-index:1100; }
.menu-toggle span{
  position: absolute; left: 0; right: 0; height: 2px; background: var(--text-primary);
  border-radius: 2px; transition: transform .22s ease, opacity .2s ease;
}
.menu-toggle span:nth-child(1){ top: 0; }
.menu-toggle span:nth-child(2){ top: 10px; }
.menu-toggle span:nth-child(3){ top: 20px; }
.menu-toggle[aria-expanded="true"] span:nth-child(1){ transform: translateY(10px) rotate(45deg); }
.menu-toggle[aria-expanded="true"] span:nth-child(2){ opacity: 0; }
.menu-toggle[aria-expanded="true"] span:nth-child(3){ transform: translateY(-10px) rotate(-45deg); }

/* ---- Compact mobile dropdown panel ---- */
.mobile-menu{
  position: fixed; top: 68px; right: 1rem; left: auto;
  width: min(420px, 92vw);
  max-height: min(70vh, 560px);
  overflow: auto;
  padding: .75rem 0;
  background: rgba(5,5,7,.92);
  backdrop-filter: blur(14px);
  border: 1px solid rgba(255,255,255,.08);
  border-radius: 14px;
  box-shadow: 0 20px 60px rgba(0,0,0,.45);
  display: flex; flex-direction: column; align-items: stretch; gap: .35rem;
  z-index: 1090;
  transition: all .4s ease;
  opacity: 0; visibility: hidden; transform: translateY(-10px);
}
.mobile-menu a{
  color: var(--text-primary); font-weight: 600; font-size: 1rem;
  text-decoration: none; padding: .8rem 1rem; border-radius: 10px; transition: .3s;
  text-align: left; width: 100%;
}
.mobile-menu a:hover { background: rgba(255,255,255,.06); color: var(--text-primary); }
.mobile-menu a[href="#apply"]{ background: var(--gradient); color: var(--bg-primary); font-weight: 800; box-shadow: 0 10px 28px rgba(10,223,131,.28); }
.mobile-menu[hidden]{ opacity:0; visibility:hidden; transform: translateY(-10px); }
.mobile-menu:not([hidden]){ opacity:1; visibility:visible; transform: translateY(0); }

/* ---- Hero ---- */
.hero {
  min-height: 100vh; display: flex; flex-direction: column; justify-content: center; align-items: center;
  text-align: center; position: relative;
  background: url('https://images.unsplash.com/photo-1500534314209-a25ddb2bd429?q=80&w=2000&auto=format&fit=crop') center/cover no-repeat;
  background-attachment: fixed;
  box-shadow: inset 0 -140px 220px rgba(0,0,0,.55);
}
.hero::before {
  content: ''; position: absolute; inset: 0;
  background: linear-gradient(135deg, rgba(5,5,7,.86), rgba(5,5,7,.66), rgba(10,223,131,.08), rgba(5,5,7,.76));
  z-index: 1;
}
.hero::after {
  content: ''; position: absolute; inset: 0;
  background: radial-gradient(circle at 20% 80%, rgba(10,223,131,.15) 0%, transparent 50%),
              radial-gradient(circle at 80% 20%, rgba(0,179,102,.1) 0%, transparent 50%);
  z-index: 1; mix-blend-mode: screen; opacity: .9; animation: heroGlow 8s ease-in-out infinite alternate;
}
@keyframes heroGlow { 0% { opacity: .6; } 100% { opacity: 1; } }
.hero-content { position: relative; z-index: 2; max-width: 900px; padding: 2rem; }
.badge {
  display: inline-flex; align-items: center; gap: .5rem;
  background: var(--accent-subtle); color: var(--accent);
  border: 1px solid rgba(10,223,131,.28); border-radius: 50px;
  padding: .6rem 1.5rem; font-weight: 700; font-size: .95rem;
  backdrop-filter: blur(10px); box-shadow: 0 10px 30px rgba(10,223,131,.18);
  margin-bottom: 1.25rem;
}
.hero h1 { font-size: clamp(2.8rem, 8vw, 5.5rem); font-weight: 900; margin-bottom: 1rem; color: #fff;
  text-shadow: 0 10px 40px rgba(0,0,0,.6), 0 0 28px rgba(10,223,131,.18); letter-spacing:-.02em; }
.hero h1 .peak-word { color: var(--accent); filter: drop-shadow(0 0 18px rgba(10,223,131,.4)); }
.hero p {
  font-size: 1.3rem; color: #fff; margin-bottom: 2.4rem; max-width: 800px; margin-inline: auto; line-height: 1.6;
  text-shadow: 0 1px 4px rgba(0,0,0,.7);
}
.cta-primary {
  display: inline-block; background: var(--gradient); color: var(--bg-primary);
  padding: 1.2rem 3rem; border-radius: 50px; text-decoration: none; font-weight: 800; font-size: 1.1rem;
  box-shadow: 0 14px 36px rgba(10,223,131,.32); transition: transform .15s ease, box-shadow .2s ease, filter .2s ease;
}
.cta-primary:hover { transform: translateY(-2px); box-shadow: 0 18px 38px rgba(10,223,131,.34); filter: saturate(110%); }
.cta-primary::before { content:""; position:absolute; inset:0; border-radius:inherit; background: linear-gradient(180deg, rgba(255,255,255,.20), rgba(255,255,255,0)); opacity:.25; pointer-events:none; }
.cta-primary::after{
  content:""; position:absolute; top:-120%; left:-30%; width:60%; height:340%;
  background: linear-gradient(120deg, rgba(255,255,255,.25), rgba(255,255,255,0) 60%);
  transform: rotate(18deg); animation: sheen 3.2s ease-in-out infinite; mix-blend-mode: screen; pointer-events:none;
}
@keyframes sheen{ 0%{ transform: translateX(-40%) rotate(18deg); opacity:0; } 40%{ opacity:.8; } 80%{ opacity:0; } 100%{ transform: translateX(180%) rotate(18deg); } }

/* ---- Sections ---- */
section { padding-block: 4rem; position: relative; z-index: 2; }
.container { max-width: 1200px; margin: 0 auto; padding-left: 2rem; padding-right: 2rem; }
.section-title{
  position:relative; display:inline-block; padding-bottom:.3rem;
  font-size: clamp(2.2rem, 6vw, 3.2rem); font-weight: 900; margin-bottom: 1rem;
  color: var(--text-primary); letter-spacing: -0.02em; line-height: 1.2; text-align:center;
}
.section-title::after{
  content:""; position:absolute; left:50%; transform:translateX(-50%);
  bottom:-8px; width:64%; height:3px; border-radius:3px;
  background: linear-gradient(90deg, transparent, var(--accent), transparent);
  box-shadow: 0 0 20px rgba(10,223,131,.4);
}
.section-lead {
  font-size: 1.2rem; color: var(--text-secondary); text-align: center;
  max-width: 800px; margin: 0 auto 2rem; line-height: 1.7;
}

/* ---- About ---- */
.about-hero {
  font-size: 1.2rem; color: var(--text-secondary); margin-bottom: 1.2rem;
  max-width: 800px; text-align: center; line-height: 1.6; margin-inline: auto;
}
.green-text { color: #0adf83 !important; }
.about-unified-card {
  background:
    radial-gradient(120% 120% at 0% 0%, rgba(255,255,255,.07), rgba(255,255,255,.03) 40%, transparent 70%),
    var(--bg-card);
  border: 1px solid rgba(255,255,255,.12);
  border-radius: var(--radius);
  padding: 1.8rem;
  transition: var(--transition);
  overflow: hidden; backdrop-filter: blur(14px);
  max-width: 700px; margin: 0 auto 1.6rem; text-align: center;
  box-shadow: var(--depth-shadow), var(--ring-soft);
}
.about-unified-card:hover::after { opacity:.55; }
.about-unified-text { font-size: 1.05rem; line-height: 1.7; color: var(--text-secondary); }

.about-finale {
  background: linear-gradient(135deg, var(--accent-subtle), rgba(212, 175, 55, 0.1));
  border: 2px solid; border-image: var(--gradient) 1; border-radius: var(--radius);
  padding: 1.4rem; font-size: 1.1rem; font-weight: 600; color: var(--accent); font-style: italic;
  backdrop-filter: blur(20px); box-shadow: var(--shadow-glow);
  margin: 1.6rem auto; max-width: 800px; line-height: 1.6;
}

.about-mission {
  font-size: 1.15rem; color: var(--text-primary); font-weight: 700; text-align: center; margin-top: 1.2rem; line-height: 1.5;
}
.about-mission strong {
  background: var(--gradient);
  -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;
  font-weight: 800;
}

/* ---- Identity ---- */
.identity { background: var(--bg-primary); }
.identity-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; margin-top: 2rem; }
.identity-card {
  background:
    radial-gradient(120% 120% at 0% 0%, rgba(255,255,255,.07), rgba(255,255,255,.03) 40%, transparent 70%),
    var(--bg-card);
  border: 1px solid rgba(255,255,255,.12); border-radius: var(--radius);
  padding: 2rem; box-shadow: var(--shadow); backdrop-filter: blur(10px);
  text-align: center; transition: all .5s ease; position: relative; overflow: hidden;
}
.identity-header { display: flex; align-items: center; justify-content: center; gap: 1rem; font-size: 1.2rem; font-weight: 700; margin-bottom: 1.6rem; color: var(--text-primary); }
.identity-badge { display:flex; align-items:center; justify-content:center; width:32px; height:32px; border-radius:50%; font-weight:700; font-size:1.1rem; flex-shrink:0; }
.identity-badge.yes { background: var(--accent-subtle); color: var(--accent); border: 2px solid var(--accent); }
.identity-badge.no  { background: var(--red-subtle); color: var(--red); border: 2px solid var(--red); }
.identity-list { list-style:none; text-align:left; max-width:360px; margin:0 auto; }
.identity-list li { display:flex; align-items:flex-start; gap:.8rem; margin-bottom:1rem; color:var(--text-secondary); line-height:1.55; }
.identity-list li strong { color: var(--text-primary); font-weight: 700; min-width: 100px; }

/* ---- Pillars ---- */
.pillars-lead {
  max-width: 800px; margin: 0 auto 1.6rem; padding: 1.1rem 1.3rem;
  background: var(--bg-card); border: 1px solid var(--border); border-radius: var(--radius);
  color: var(--text-primary); font-size: 1.15rem; line-height: 1.7; box-shadow: var(--shadow); backdrop-filter: blur(10px);
  font-style: italic;
}
.pillars-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 1.4rem; margin-top: 1.2rem; }
.pillar-card {
  background:
    radial-gradient(120% 120% at 0% 0%, rgba(255,255,255,.07), rgba(255,255,255,.03) 40%, transparent 70%),
    var(--bg-card);
  border: 1px solid rgba(255,255,255,.12);
  border-radius: var(--radius); padding: 1.8rem; text-align: center;
  box-shadow: var(--shadow); transition: transform .25s ease, box-shadow .25s ease; transform: translateZ(0);
}
.pillar-icon {
  width: 80px; height: 80px; background: rgba(10,223,131,0.1);
  border: 2px solid rgba(10,223,131,0.3); border-radius: 50%;
  display: flex; align-items: center; justify-content: center;
  margin: 0 auto 1.2rem; transition: all .4s ease; box-shadow: 0 12px 30px rgba(10,223,131,.18);
}
.pillar-icon svg { width: 36px; height: 36px; stroke: var(--accent); }
.pillar-card:hover { transform: translateY(-6px); box-shadow: var(--depth-shadow), var(--ring-accent); }
.pillar-card:hover .pillar-icon { background: var(--accent); border-color: var(--accent); box-shadow: 0 24px 40px rgba(10,223,131,.28); }
.pillar-card:hover .pillar-icon svg { stroke: var(--bg-primary); }

/* ---- Quote ---- */
.quote-section { background: var(--bg-primary); padding: 3rem 2rem; }
.quote-box {
  max-width: 800px; margin: 0 auto; padding: 1.8rem; border-radius: var(--radius);
  background:
    radial-gradient(120% 120% at 0% 0%, rgba(255,255,255,.07), rgba(255,255,255,.03) 40%, transparent 70%),
    var(--bg-card);
  border: 1px solid rgba(255,255,255,.12);
  box-shadow: 0 14px 44px rgba(0,0,0,.45), 0 0 40px rgba(10,223,131,.08) inset;
  backdrop-filter: blur(20px); text-align: center; position: relative; overflow: hidden;
  border-top: 4px solid var(--accent);
}
.quote-box::before{
  content:"â€œ"; position:absolute; font-size:240px; line-height:.6; left:-6px; top:-10px; color:rgba(255,255,255,.05);
  text-shadow: 0 0 40px rgba(10,223,131,.15); pointer-events:none;
}
.quote { font-style: italic; font-size: 1.3rem; line-height: 1.7; color: #c8c8c8; margin-bottom: 1rem; }
.quote-author { color: var(--accent); font-weight: 700; font-size: 1.1rem; }

/* ---- Apply ---- */
.apply { background: var(--bg-secondary); padding: 3.8rem 2rem; }
.form-container { max-width: 500px; margin: 0 auto; }
.form-wrap {
  background:
    radial-gradient(120% 120% at 0% 0%, rgba(255,255,255,.07), rgba(255,255,255,.03) 40%, transparent 70%),
    var(--bg-card);
  border: 1px solid rgba(255,255,255,.12);
  border-radius: var(--radius);
  padding: 2.2rem; box-shadow: var(--shadow); backdrop-filter: blur(20px);
}
.form-group label { display: block; margin-bottom: 0.5rem; font-weight: 600; color: var(--text-primary); }
.form-group input, .form-group textarea {
  width: 100%; padding: 1rem 1.2rem; background: rgba(255,255,255,0.055);
  border: 2px solid var(--border); border-radius: 12px; color: var(--text-primary);
  font-family: inherit; font-size: 1rem; backdrop-filter: blur(10px);
  transition: box-shadow .2s ease, border-color .2s ease, background .2s ease;
  box-shadow: inset 0 1px 10px rgba(0,0,0,.25);
}
.form-group input:focus, .form-group textarea:focus {
  outline: none; border-color: var(--accent);
  box-shadow: 0 0 0 4px rgba(10,223,131,.12), inset 0 1px 12px rgba(0,0,0,.35);
  background: rgba(255,255,255,.065);
}
.submit-btn {
  width: 100%; background: var(--gradient); color: var(--bg-primary); border: none;
  padding: 1.2rem 2rem; border-radius: 50px; font-size: 1.1rem; font-weight: 800; cursor: pointer;
  box-shadow: var(--shadow-glow); transition: transform .15s ease, box-shadow .2s ease;
}
.submit-btn:hover { transform: translateY(-3px); box-shadow: 0 15px 35px rgba(10,223,131,0.4); }

/* ---- Footer ---- */
.footer { background: var(--bg-primary); padding: 2.2rem 2rem; text-align: center; border-top: 1px solid rgba(255,255,255,.08); box-shadow: 0 -10px 40px rgba(0,0,0,.35) inset; }
.footer-links { display: flex; justify-content: center; gap: 2rem; margin-bottom: 1rem; }
.footer-links a { color: var(--text-secondary); text-decoration: none; font-weight: 600; padding: .5rem 1rem; border-radius: 8px; }
.footer-links a:hover { color: var(--accent); background: rgba(10,223,131,0.05); box-shadow: 0 8px 20px rgba(255,255,255,.08) inset; }
.social-links-footer { display: flex; justify-content: center; gap: 1rem; margin: 1rem 0 1.5rem; }
.social-links-footer .social-link{
  display:flex; align-items:center; justify-content:center;
  width:44px; height:44px; border-radius:50%;
  background: rgba(255,255,255,0.04);
  border:1px solid rgba(255,255,255,0.1);
  transition: transform .2s ease, box-shadow .2s ease, border-color .2s ease, background .2s ease;
}
.social-links-footer .social-link:hover{
  transform: translateY(-3px);
  box-shadow: 0 10px 20px rgba(10,223,131,.25);
  border-color: var(--accent);
  background: rgba(10,223,131,.08);
}
.social-links-footer .social-link img{ width:22px; height:22px; display:block; }
.social-links-footer a[aria-label="Instagram"]:hover svg,
.social-links-footer a[aria-label="TikTok"]:hover svg { fill: currentColor; }
.social-links-footer .social-link:hover img {
  filter: invert(62%) sepia(20%) saturate(951%) hue-rotate(100deg) brightness(95%) contrast(96%);
}
.copyright { color: var(--text-muted); font-size: .95rem; }

/* ---- Skeletons & Loading ---- */
@keyframes pulse-shimmer { 0% { background-position: -200% 0; } 100% { background-position: 200% 0; } }
.skeleton {
  position: relative; overflow: hidden; border-radius: 12px; min-height: 12px;
  background-image: linear-gradient(90deg, rgba(255,255,255,.06) 25%, rgba(255,255,255,.12) 37%, rgba(255,255,255,.06) 63%);
  background-size: 400% 100%; animation: pulse-shimmer 1.3s ease-in-out infinite;
}
.skeleton.--line{ height:12px; border-radius:8px; }
.skeleton.--title{ height:28px; border-radius:10px; }
.skeleton.--pill{ height:44px; border-radius:999px; }
.skeleton.--card{ height:180px; border-radius: var(--radius); }
.skeleton.--avatar{ width:48px; height:48px; border-radius:50%; }

.input-loading { position: relative; }
.input-loading::after{
  content:""; position:absolute; inset:0; border-radius: inherit;
  background-image: linear-gradient(90deg, rgba(255,255,255,.04) 25%, rgba(255,255,255,.12) 37%, rgba(255,255,255,.04) 63%);
  background-size: 400% 100%; animation: pulse-shimmer 1.25s ease-in-out infinite;
}
.img-skeleton {
  display:block; background: rgba(255,255,255,.04);
  background-image: linear-gradient(90deg, rgba(255,255,255,.06) 25%, rgba(255,255,255,.14) 37%, rgba(255,255,255,.06) 63%);
  background-size:400% 100%; animation:pulse-shimmer 1.6s ease-in-out infinite; border-radius: 12px;
}

/* ---- PeakCY brand helper ---- */
.peakcy { color: var(--text-primary); font-weight: 900; }
.peakcy .cy { color: var(--gold); }

/* ---- On-scroll reveals (auto) ---- */
@keyframes rise-fade { from { opacity:0; transform: translateY(18px) scale(.98); filter: blur(2px); } to { opacity:1; transform: none; filter: none; } }
.about-unified-card, .identity-card, .pillar-card, .quote-box, .form-wrap{
  opacity:0; transform: translateY(18px) scale(.98);
  animation: rise-fade .7s ease forwards; animation-delay:.06s;
}
.identity-card:nth-child(2){ animation-delay:.14s; }
.identity-card:nth-child(3){ animation-delay:.22s; }
.pillar-card:nth-child(1){ animation-delay:.08s; }
.pillar-card:nth-child(2){ animation-delay:.16s; }
.pillar-card:nth-child(3){ animation-delay:.24s; }
.pillar-card:nth-child(4){ animation-delay:.32s; }

/* ---- Accessibility ---- */
a:focus, button:focus, input:focus, textarea:focus { outline: 3px solid var(--accent); outline-offset: 2px; }
a:focus-visible, button:focus-visible, input:focus-visible, textarea:focus-visible{ outline: 3px solid var(--accent); outline-offset: 3px; border-radius: 12px; }
.sr-only { position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0, 0, 0, 0); white-space: nowrap; border: 0; }

/* ---- Scrollbar ---- */
::-webkit-scrollbar { width: 8px; }
::-webkit-scrollbar-track { background: var(--bg-primary); }
::-webkit-scrollbar-thumb { background: var(--accent); border-radius: 4px; }
::-webkit-scrollbar-thumb:hover { background: var(--accent-hover); }

/* ---- Responsive ---- */
@media (max-width: 1024px){ .hero{ background-attachment: scroll; } }

@media (max-width: 768px){
  .menu-toggle { display: flex; }
  .nav-links { display: none; }
  .nav-container { padding: 1rem 1.5rem; }

  .hero { padding-top: 68px; min-height: calc(100vh - 68px); }
  .section-title { font-size: 1.85rem; }
  .section-lead  { margin-bottom: 1.4rem; }

  .identity-grid { grid-template-columns: 1fr; gap: 1rem; }
  .identity-card { padding: 1.2rem; text-align:left; }
  .identity-header { justify-content:flex-start; font-size:1.1rem; }
  .identity-list { max-width:100%; }
  .identity-list li { margin-bottom:.6rem; }

  .pillars-grid { grid-template-columns: 1fr 1fr; gap: .9rem; }
  .pillar-card  { padding: 1.2rem; }
  .pillar-icon  { width: 64px; height: 64px; margin-bottom: .9rem; }
  .pillar-icon svg { width: 28px; height: 28px; }

  .about-hero { font-size: 1.1rem; line-height: 1.6; }
  .about-unified-card { padding: 1.2rem; margin-bottom: 1.1rem; }
  .about-finale { padding: 1.1rem; margin: 1.1rem auto; }
  .about-mission { font-size: 1.1rem; }

  /* Apply: full width with small gutter */
  .apply { padding-left: 0; padding-right: 0; }
  .apply .container { max-width:none; padding-left: 0; padding-right: 0; }
  .apply .form-container, .apply .form-wrap{
    max-width: none; width: 100%; margin: 0; border-radius: 0;
    padding-left: .75rem; padding-right: .75rem;
  }
  .apply .form-group input, .apply .form-group textarea{
    width: 100%; font-size: 16px; border-radius: 8px;
  }
  .apply .submit-btn{ width: 100%; margin-top: 1rem; border-radius: 50px; }
}

@media (max-width: 480px){
  .hero h1 { font-size: 2.05rem; }
  .cta-primary { padding: 0.9rem 1.6rem; }
  .quote-box { padding: 1.4rem; }
  .quote { font-size: 1.2rem; }
  .apply .form-wrap{ padding-left: .5rem; padding-right: .5rem; }
}

/* ---- HARD CENTER SECTION TITLES (any layout) ---- */
:where(body) :where(.section-title){
  display:block; width:100%; margin-left:auto; margin-right:auto; text-align:center !important;
  float:none; align-self:center; justify-self:center;
}
:where(body) :where(.section-title)::after{ left:50% !important; transform:translateX(-50%) !important; }

/* ---- Reduced Motion ---- */
@media (prefers-reduced-motion: reduce){
  *{ animation-duration:.01ms !important; animation-iteration-count:1 !important; transition-duration:.01ms !important; }
  .hero{ background-attachment: scroll !important; }
}

/* ================================
   MOBILE POLISH HOT-FIX (â‰¤768px)
   ================================ */
@media (max-width: 768px){

  /* 1) Make content wider/easier to read on mobile */
  .container{
    padding-left: 1rem !important;   /* was 2rem */
    padding-right: 1rem !important;
  }

  /* 2) Pillars: single column, less padding, left-aligned text */
  .pillars-grid{
    grid-template-columns: 1fr !important;
    gap: 0.75rem !important;
  }
  .pillar-card{
    padding: 1rem !important;
    text-align: left !important;
    border-radius: 12px !important;
  }
  .pillar-icon{
    margin: 0 0 .75rem 0 !important;   /* icon sits above text, left edge */
  }
  .pillar-icon svg{ width: 26px !important; height: 26px !important; }
  .pillar-card p{
    font-size: 1.02rem !important;
    line-height: 1.55 !important;
    max-width: 55ch;                   /* readable line length */
  }

  /* 3) Dropdown: simpler, readable, no huge CTA, full-width panel with small margins */
  .mobile-menu{
    left: 0.75rem !important;
    right: 0.75rem !important;
    width: auto !important;
    max-width: none !important;
    border-radius: 12px !important;
    padding: 0.5rem 0 !important;
  }
  .mobile-menu a{
    font-size: 1.05rem !important;
    line-height: 1.3 !important;
    padding: 0.8rem 0.9rem !important;
  }
  /* Make "Apply" look like the rest (no giant green pill inside the menu) */
  .mobile-menu a[href="#apply"]{
    background: transparent !important;
    color: var(--text-primary) !important;
    font-weight: 700 !important;
    box-shadow: none !important;
    border-radius: 10px !important;
  }
  .mobile-menu a[href="#apply"]:hover{
    background: rgba(255,255,255,.06) !important;
  }

  /* 4) Remove the green focus box around the hamburger/X on tap,
        but keep keyboard focus visible for accessibility */
  .menu-toggle:focus{ outline: none !important; }
  .menu-toggle:focus-visible{
    outline: 3px solid var(--accent) !important;
    outline-offset: 3px !important;
  }

  /* 5) Footer: no stray bullets/markers; tighten padding */
  .footer-links, .footer-links *{
    list-style: none !important;
  }
  .footer-links li::marker{ content: none !important; }
  .footer{
    padding-left: 1rem !important;
    padding-right: 1rem !important;
  }
}

/* Extra guard for any footer list anywhere */
.footer ul, .footer li{ list-style: none !important; padding-left: 0 !important; }
.footer li::marker{ content: none !important; }

/* =====================================
   MOBILE EDGE-TO-EDGE FOR PILLARS + QUOTE
   ===================================== */
@media (max-width: 768px){

  /* Use most of the screen: tiny gutters */
  .pillars-grid{
    grid-template-columns: 1fr !important;
    gap: 0.75rem !important;
    margin-left: -0.75rem !important;
    margin-right: -0.75rem !important;
  }

  .pillar-card{
    padding: 1rem 1rem !important;
    border-radius: 14px !important;
    text-align: left !important;
  }
  .pillar-icon{
    margin: 0 0 .75rem 0 !important;
    width: 60px !important; height: 60px !important;
  }
  .pillar-icon svg{ width: 26px !important; height: 26px !important; }
  .pillar-card h3{ font-size: 1.25rem !important; }
  .pillar-card p{
    font-size: 1.05rem !important;
    line-height: 1.55 !important;
    max-width: none !important;
  }

  .quote-section .container{
    padding-left: .5rem !important;
    padding-right: .5rem !important;
  }
  .quote-box{
    max-width: none !important;
    width: 100% !important;
    margin-left: 0 !important;
    margin-right: 0 !important;
    border-radius: 14px !important;
    padding: 1.2rem !important;
  }
  .quote{ font-size: 1.18rem !important; }

  .footer ul, .footer li{ list-style: none !important; padding-left: 0 !important; }
  .footer li::marker{ content: none !important; }
}


/* ========= APPENDED FIXES (as agreed) ========= */

/* 1) Menu: keep the "X" clickable/visible above the panel */
.menu-toggle{
  position: relative;
  z-index: 4000 !important;
  pointer-events: auto !important;
}
.menu-toggle span{ background:#fff; }

/* Raise navbar above decorative layers */
.navbar { z-index: 3500 !important; }

/* 2) Make mobile menu truly on top and opaque for clarity */
.mobile-menu{
  z-index: 3000 !important;
  background: rgba(5,5,7,.98) !important;
  -webkit-backdrop-filter: none !important;
  backdrop-filter: none !important;
  border: 1px solid rgba(255,255,255,.07) !important;
  box-shadow: 0 24px 60px rgba(0,0,0,.60) !important;
}

/* 3) Lock body scroll when menu open */
body.menu-open { overflow: hidden !important; }

/* 4) Android ghosting fix for heavy cards */
@media (max-width: 1024px){
  .about-unified-card,
  .identity-card,
  .pillar-card,
  .quote-box,
  .form-wrap{
    -webkit-backdrop-filter: none !important;
    backdrop-filter: none !important;
    box-shadow: 0 10px 26px rgba(0,0,0,.35) !important;
    contain: paint;
    will-change: transform;
    transform: translateZ(0);
    backface-visibility: hidden;
  }
}

/* 5) Pillars: center icon + title; description left */
.pillar-icon{ margin-left:auto; margin-right:auto; }
.pillar-card h3{ text-align:center; }
.pillar-card p{ text-align:left; }
@media (max-width:768px){
  .pillar-card{ text-align:left !important; }
  .pillar-card h3{ text-align:center !important; }
  .pillar-icon{ margin-left:auto !important; margin-right:auto !important; }
}

/* 6) Pillar color/banding stabilization on mobile */
@media (max-width: 1024px){
  .pillars{ background:#070707; }
  .pillar-card{
    background: rgba(18,18,18,0.95) !important;
    border: 1px solid rgba(255,255,255,0.10) !important;
    -webkit-backdrop-filter: none !important;
    backdrop-filter: none !important;
    background-clip: padding-box;
  }
  .pillar-icon{
    background: rgba(10,223,131,0.10) !important;
    border-color: rgba(10,223,131,0.30) !important;
  }
}

/* 7) Hero glow fix on mobile (prevent overlay washing text) */
@media (max-width:768px){
  .hero::after{ display:none !important; }
  .hero::before{
    background: linear-gradient(135deg,
      rgba(5,5,7,.92),
      rgba(5,5,7,.78),
      rgba(5,5,7,.92)) !important;
  }
  .hero-content{ position:relative; z-index:3 !important; }
  .badge{
    background: rgba(10,223,131,0.12) !important;
    border-color: rgba(10,223,131,0.28) !important;
    box-shadow: 0 8px 20px rgba(10,223,131,.20) !important;
    -webkit-backdrop-filter: none !important;
    backdrop-filter: none !important;
  }
  body::after{ display:none !important; } /* pause aurora */
}

/* 8) Identity list reflow: title on its own line, text below */
.identity-list li{
  display:block !important;                 /* stack */
  margin-bottom: 1.0rem;
}
.identity-list li strong{
  display:block !important;
  min-width: auto !important;
  margin-bottom: .25rem;
  font-size: 1.02rem;
  letter-spacing: .2px;
}
